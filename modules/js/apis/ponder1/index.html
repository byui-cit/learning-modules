<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>APIs - Ponder activities.</title>
    <meta name="description" content="Practice using APIs">
    <link rel="apple-touch-icon" sizes="180x180" href="/learning-modules/img/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" href="/learning-modules/img/favicon/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/learning-modules/img/favicon/favicon-16x16.png" sizes="16x16">
    <link rel="shortcut icon" href="/learning-modules/img/favicon/favicon.ico">
    <link rel="stylesheet" href="/learning-modules/css/index.css">
    <link rel="stylesheet" href="/learning-modules/css/prism-coy.css">
    <link rel="alternate" href="/learning-modules/feed/feed.xml" type="application/atom+xml" title="WDD Learning Modules">
    <link rel="alternate" href="/learning-modules/feed/feed.json" type="application/json" title="WDD Learning Modules">
  </head>
  <body>
    <header>
      <div class="branding">
        <a href="/learning-modules/">
          <img src="/learning-modules/img/TwoLineMonogram_white.svg" alt="BYU-I logo" class="logo">
        </a>
        <h1 class="vertical-text">WDD Learning Modules</h1>
      </div>
      <nav>
        <ul class="nav">
            <li class="nav-item">
              <a href="/learning-modules/">Home</a>
            </li>
            <li class="nav-item">
              <a href="/learning-modules/modules/html/">HTML</a>
            </li>
            <li class="nav-item">
              <a href="/learning-modules/modules/js/">JS</a>
            </li>
            <li class="nav-item">
              <a href="/learning-modules/modules/css/">CSS</a>
            </li>
            <li class="nav-item">
              <a href="/learning-modules/modules/design/">Design</a>
            </li>
            <li class="nav-item">
              <a href="/learning-modules/modules/general/">General</a>
            </li>
        </ul>
      </nav>
    </header>
    <main  class="tmpl-post" >
      
<h1>APIs - Ponder activities.</h1>




<h2 id="preparation" tabindex="-1">Preparation <a class="direct-link" href="#preparation" aria-hidden="true">#</a></h2>
<p>It is recommended to review <a href="../prepare1">APIs - Introduction</a> before you start. You will also need your editor open with some html and the code from the Prepare activity:</p>
<h3 id="html" tabindex="-1">html <a class="direct-link" href="#html" aria-hidden="true">#</a></h3>
<pre class="language-html"><code class="language-html"><span class="token comment">&lt;!-- api.html --></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>API Activities<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>api.js<span class="token punctuation">"</span></span> <span class="token attr-name">defer</span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre>
<h3 id="javascript" tabindex="-1">Javascript <a class="direct-link" href="#javascript" aria-hidden="true">#</a></h3>
<pre class="language-javascript"><code class="language-javascript"><span class="token comment">// api.js</span><br><span class="token keyword">const</span> baseUrl <span class="token operator">=</span> <span class="token string">"https://developer.nps.gov/api/v1/"</span><span class="token punctuation">;</span><br><br><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getJson</span><span class="token punctuation">(</span><span class="token parameter">endpoint</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token comment">// replace this with your actual key</span><br>  <span class="token keyword">const</span> apiKey <span class="token operator">=</span> <span class="token string">"YOUR_API_KEY"</span><span class="token punctuation">;</span><br>  <span class="token comment">// construct the url: baseUrl + endpoint + parameters</span><br>  <span class="token keyword">const</span> url <span class="token operator">=</span> baseUrl <span class="token operator">+</span> endpoint<span class="token punctuation">;</span><br>  <span class="token comment">// set the options. The important one here is the X-Api-Key</span><br>  <span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span><br>    method<span class="token operator">:</span> <span class="token string">"GET"</span><span class="token punctuation">,</span><br>    headers<span class="token operator">:</span> <span class="token punctuation">{</span><br>      <span class="token string">"Content-Type"</span><span class="token operator">:</span> <span class="token string">"application/json"</span><span class="token punctuation">,</span><br>      <span class="token string">"X-Api-Key"</span><span class="token operator">:</span> apiKey<br>      <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br>  <span class="token comment">// make the request</span><br>  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> options<span class="token punctuation">)</span><br>  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><br>  <span class="token keyword">return</span> data<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token function">getJson</span><span class="token punctuation">(</span><span class="token string">'alerts?parkCode=acad,dena'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>These activities will be most effective if you TRY them first before you look at the solution. And after you do look at the solution...DO NOT copy and paste the code. Read through it, try to understand what it is doing...then go fix your code.</p>
<h2 id="activity-1" tabindex="-1">Activity 1 <a class="direct-link" href="#activity-1" aria-hidden="true">#</a></h2>
<p>The key to being able to successfully use an API is spending time with it's documentation to that you understand what data it makes available, and how to get it. We will use the <a href="https://www.nps.gov/subjects/developer/get-started.htm">NPS API</a> for this activity.  If you have not done so you will need to follow that link and request an API key to complete this activity.</p>
<ol>
<li>On the <a href="https://www.nps.gov/subjects/developer/api-documentation.htm">documentation page</a> you should enter your api key in to be able to use their tools to more quickly test things. Click on the &quot;Authorize&quot; button at the top of the page and enter your key.</li>
<li>What URL would you use to get a list of parks involving Idaho?  You can use the &quot;Try it out&quot; tool to test your answer.</li>
<li>What URL would you use to find information about campgrounds available at City of Rocks?</li>
<li>How could you find out which parks offer the activity: Climbing</li>
<li>What URL would you use to pull up any photos available involving bears?</li>
</ol>
<details>
<summary>Solution 1</summary>
<ol start="2">
<li><a href="https://developer.nps.gov/api/v1/parks?stateCode=id">https://developer.nps.gov/api/v1/parks?stateCode=id</a></li>
<li><a href="https://developer.nps.gov/api/v1/campgrounds?parkCode=ciro">https://developer.nps.gov/api/v1/campgrounds?parkCode=ciro</a></li>
<li><a href="https://developer.nps.gov/api/v1/activities/parks?q=climbing">https://developer.nps.gov/api/v1/activities/parks?q=climbing</a></li>
<li><a href="https://developer.nps.gov/api/v1/multimedia/galleries?q=bears">https://developer.nps.gov/api/v1/multimedia/galleries?q=bears</a></li>
</ol>
</details>
<h2 id="activity-2" tabindex="-1">Activity 2 <a class="direct-link" href="#activity-2" aria-hidden="true">#</a></h2>
<p>Now that we have identified some URLs with information of interest, let's use Javascript to pull and display some of the details. We will display a list of parks that offer Climbing as an activity.</p>
<ol>
<li>Add a ul element to our html to hold a list. (<code>&lt;ul id=&quot;outputList&quot;&gt;&lt;/ul&gt;</code>)</li>
<li>Get that element with Javascript</li>
<li>Change the url that we are using to make the request to <code>activities/parks?q=climbing</code>. Check out the data that was returned to make sure you understand what is available. Note that the results we need are in a property called <code>data</code> which is an array of objects. Then inside of that we have a property called <code>parks</code> which is also an array of objects. This is the array we will need to loop over to output the results.</li>
<li>Create two functions: <code>async function renderClimbingList() {}</code> and <code>function listTemplate(item) {}</code></li>
<li>Write the template function first. We should include the Name of the park, the state it is in, and make the name a link which links to the official URL for the park</li>
<li>In the <code>renderClimbingList</code> function we need to use the <code>getJson</code> function provided earlier to get the data we need. Then <code>map</code> over the list of parks using the template function. Then output the resulting HTML to the list created in step 1</li>
<li>Call the <code>renderClimbingList</code> function at the end of the script.</li>
</ol>
<details>
<summary>Solution 2</summary>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> baseUrl <span class="token operator">=</span> <span class="token string">"https://developer.nps.gov/api/v1/"</span><span class="token punctuation">;</span><br><br><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getJson</span><span class="token punctuation">(</span><span class="token parameter">endpoint</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token comment">// replace this with your actual key</span><br>  <span class="token keyword">const</span> apiKey <span class="token operator">=</span> <span class="token string">"YOUR_API_KEY"</span><span class="token punctuation">;</span><br>  <span class="token comment">// construct the url: baseUrl + endpoint + parameters</span><br>  <span class="token keyword">const</span> url <span class="token operator">=</span> baseUrl <span class="token operator">+</span> endpoint<span class="token punctuation">;</span><br>  <span class="token comment">// set the options. The important one here is the X-Api-Key</span><br>  <span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span><br>    method<span class="token operator">:</span> <span class="token string">"GET"</span><span class="token punctuation">,</span><br>    headers<span class="token operator">:</span> <span class="token punctuation">{</span><br>      <span class="token string">"Content-Type"</span><span class="token operator">:</span> <span class="token string">"application/json"</span><span class="token punctuation">,</span><br>      <span class="token string">"X-Api-Key"</span><span class="token operator">:</span> apiKey<br>      <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br>  <span class="token comment">// make the request</span><br>  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> options<span class="token punctuation">)</span><br>  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><br>  <span class="token keyword">return</span> data<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">function</span> <span class="token function">listTemplate</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;li>&lt;a href="</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>fullName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/a> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>states<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/li></span><span class="token template-punctuation string">`</span></span><br><span class="token punctuation">}</span><br><br><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">renderClimbingList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> endpoint <span class="token operator">=</span> <span class="token string">"activities/parks?q=climbing"</span><br>  <span class="token keyword">const</span> listElement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"outputList"</span><span class="token punctuation">)</span><br>  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getJson</span><span class="token punctuation">(</span>endpoint<span class="token punctuation">)</span><br>  <span class="token keyword">const</span> parks <span class="token operator">=</span> data<span class="token punctuation">.</span>data<br>  <span class="token keyword">const</span> listHtml <span class="token operator">=</span> parks<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>listTemplate<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><br>  listElement<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> listHtml<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><span class="token function">renderClimbingList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br></code></pre>
</details>

</main>
    <footer>
      <p class="license">
        <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png"/> </a><br/>This work is licensed under a
        <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0
          International License</a>.</p>
    </footer><!-- Current page: /learning-modules/modules/js/apis/ponder1/ --></body>
</html>