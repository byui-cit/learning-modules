<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>APIs - Introduction</title>
    <meta name="description" content="What are API&#39;s? And how can we use them?">
    <link rel="apple-touch-icon" sizes="180x180" href="/learning-modules/img/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" href="/learning-modules/img/favicon/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/learning-modules/img/favicon/favicon-16x16.png" sizes="16x16">
    <link rel="shortcut icon" href="/learning-modules/img/favicon/favicon.ico">
    <link rel="stylesheet" href="/learning-modules/css/index.css">
    <link rel="stylesheet" href="/learning-modules/css/prism-coy.css">
    <link rel="alternate" href="/learning-modules/feed/feed.xml" type="application/atom+xml" title="WDD Learning Modules">
    <link rel="alternate" href="/learning-modules/feed/feed.json" type="application/json" title="WDD Learning Modules">
  </head>
  <body>
    <header>
      <div class="branding">
        <a href="/learning-modules/">
          <img src="/learning-modules/img/TwoLineMonogram_white.svg" alt="BYU-I logo" class="logo">
        </a>
        <h1 class="vertical-text">WDD Learning Modules</h1>
      </div>
      <nav>
        <ul class="nav">
            <li class="nav-item">
              <a href="/learning-modules/">Home</a>
            </li>
            <li class="nav-item">
              <a href="/learning-modules/modules/html/">HTML</a>
            </li>
            <li class="nav-item">
              <a href="/learning-modules/modules/js/">JS</a>
            </li>
            <li class="nav-item">
              <a href="/learning-modules/modules/css/">CSS</a>
            </li>
            <li class="nav-item">
              <a href="/learning-modules/modules/design/">Design</a>
            </li>
            <li class="nav-item">
              <a href="/learning-modules/modules/general/">General</a>
            </li>
        </ul>
      </nav>
    </header>
    <main  class="tmpl-post" >
      
<h1>APIs - Introduction</h1>




<h2 id="what-are-apis" tabindex="-1">What are APIs <a class="direct-link" href="#what-are-apis" aria-hidden="true">#</a></h2>
<p>API stands for Application Programming Interface. It is a set of defined rules that enables different applications to communicate with each other. An API endpoint is accessed through a URL. You make a request to a specific URL, and data instead of HTML is returned.</p>
<p>Most APIs are designed according to certain rules to make them consistent and easy to use. One of the most common set of rules used is called REST (Representational State of Resource). REST APIs are stateless, cacheable, and use HTTP methods to perform actions. RESTful APIS should be all about resources that are available. Those resources show up as nouns in our URLs.</p>
<p>Web servers are designed to accept different types of requests. For example if we wanted to view a webpage that a server had, we would make a <code>GET</code> request to the URL of that page. The browser handles the request for us, so we normally don't have to worry about the request type.  We could also make a <code>POST</code> request. This usually involves sending data to a URL. This is commonly used by HTML forms. Other common request types include <code>PUT</code>, and <code>DELETE</code>.</p>
<p>When accessing an API we might make a <code>GET</code> request to the following URL: <code>https://some.server.com/users</code>  This would most likely return a list (usually in JSON format) of users from the server. But we could also make a <code>POST</code> request to the same URL, and if we sent the data representing a new user along with the request then the server would insert that user into where ever it was storing users.</p>
<p>Likewise we might make a <code>put</code> request to this URL: <code>https://some.server.com/users/1</code>  This would indicate that we were sending some updated user information for the user with an ID of 1, and that the server should update that user accordingly.  Finally if we made a <code>delete</code> request to that same URL, the server would delete user 1.</p>
<p>Most public APIs do not allow <code>post</code>, <code>put</code>, or <code>delete</code> requests, but restrict users to <code>get</code>. A good API will also have detailed documentation to help users to know which URLs to use to get the data they are looking for.</p>
<h2 id="using-api-documentation" tabindex="-1">Using API documentation <a class="direct-link" href="#using-api-documentation" aria-hidden="true">#</a></h2>
<p>Let's take a look at some API documentation. We will start with a simple API...the <a href="https://pokeapi.co">PokeApi</a>. On the first page of the site they give an example of using the API to request the data for the Pokemon Ditto. Notice that the first part of the URL is static...they don't let you change it: <code>https://pokeapi.co/api/v2/</code>  This part of the URL will always be the same for every request. It is commonly referred to as the <strong>base URL</strong>.  The end part will change with each request based off of the data we need.  In this case we use <code>pokemon/ditto</code>. Use the <code>pokemon</code> endpoint, and find the data for <code>ditto</code>. How would you pull data for <code>charmander</code>?</p>
<p>Open the <a href="https://pokeapi.co/docs/v2">Documentation</a> page. What URL would you use to pull data for the available berries in the Pokemon games? What if you wanted detailed information  about the berry <code>Cheri</code>? How would you pull that data?</p>
<details>
<summary>Answer</summary>
<ol>
<li>For all berries: <code>https://pokeapi.co/api/v2/berry/</code> Try entering that URL in a new browser tab.</li>
<li>For a specific berry: <code>https://pokeapi.co/api/v2/berry/cheri</code> or <code>https://pokeapi.co/api/v2/berry/1</code></li>
</ol>
</details>
<p>Poke around some more in the documentation to get a feel for what else you can request from this API.</p>
<blockquote>
<p>If you make a request to <code>https://pokeapi.co/api/v2/pokemon</code> it will return a list of all the pokemon...or at least the first 20 in that list. Notice that it gives us a name and a url. If you think about what a user might want to do next that URL starts making a lot of sense.<br>
If you pulled up a list of pokemon, your next step would probably be to get more information about a specific pokemon. That provided URL leads us to our most likely next step. This is another characteristic of REST. The API should guide you to what you might want to do next.</p>
</blockquote>
<h2 id="parameters" tabindex="-1">Parameters <a class="direct-link" href="#parameters" aria-hidden="true">#</a></h2>
<p>Some API endpoints allow you to further customize your request through a query string parameter. These are added onto the end of the URL with a <code>?</code>. For example the PokeApi restricts it's responses to 20 records by default.  If you wanted to get more than 20 records, you could add a <code>limit</code> parameter to your request. For example: <code>https://pokeapi.co/api/v2/pokemon/?limit=100</code>  This would return the first 100 records.  You can also use the <code>offset</code> parameter to skip over records. For example: <code>https://pokeapi.co/api/v2/pokemon/?offset=20&amp;limit=100</code>  This would return records 21-120.</p>
<h2 id="cors" tabindex="-1">CORS <a class="direct-link" href="#cors" aria-hidden="true">#</a></h2>
<p>When we make a request to an API, the browser will automatically add a header to the request called <code>Origin</code>. This is used to identify the domain that the request is coming from. The server can then use this information to decide whether or not to allow the request to proceed. This is called CORS (Cross-Origin Resource Sharing). If the server does not allow the request, the browser will block it. This is a security feature to prevent malicious scripts from making requests on behalf of the user. If you are trying to make a request to an API from a browser, you will need to make sure that the server allows requests from your domain.</p>
<h2 id="authentication" tabindex="-1">Authentication <a class="direct-link" href="#authentication" aria-hidden="true">#</a></h2>
<p>Some APIs are totally public and can be used by anyone, the PokeApi is one example of these. Other APIs are protected and you need to prove that you should be allowed to access it. This can happen in many forms, but often involves a unique API key that is issued to you that you must send with every request.</p>
<p>The <a href="https://www.nps.gov/subjects/developer/get-started.htm">NPS API</a> is one such API. You can request a key that you should then use.  Other APIs are more restrictive, you might have to pay and use a login to request access.</p>
<p>You will need to look at the documentation for the API you want to use to see exactly how they want you to send the key, but the NPS API uses a fairly common method, sending the key in the <code>header</code> information of the request. We will use the URL in the Getting started page as an example. It is requesting the alerts from two parks.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> baseUrl <span class="token operator">=</span> <span class="token string">"https://developer.nps.gov/api/v1/"</span><span class="token punctuation">;</span><br><br><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getJson</span><span class="token punctuation">(</span><span class="token parameter">endpoint</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token comment">// replace this with your actual key</span><br>  <span class="token keyword">const</span> apiKey <span class="token operator">=</span> <span class="token string">"YOUR_API_KEY"</span><span class="token punctuation">;</span><br>  <span class="token comment">// construct the url: baseUrl + endpoint + parameters</span><br>  <span class="token keyword">const</span> url <span class="token operator">=</span> baseUrl <span class="token operator">+</span> endpoint<span class="token punctuation">;</span><br>  <span class="token comment">// set the options. The important one here is the X-Api-Key</span><br>  <span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span><br>    method<span class="token operator">:</span> <span class="token string">"GET"</span><span class="token punctuation">,</span><br>    headers<span class="token operator">:</span> <span class="token punctuation">{</span><br>      <span class="token string">"Content-Type"</span><span class="token operator">:</span> <span class="token string">"application/json"</span><span class="token punctuation">,</span><br>      <span class="token string">"X-Api-Key"</span><span class="token operator">:</span> apiKey<br>      <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br>  <span class="token comment">// make the request</span><br>  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> options<span class="token punctuation">)</span><br>  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><br>  <span class="token keyword">return</span> data<br><span class="token punctuation">}</span><br><br><span class="token function">getJson</span><span class="token punctuation">(</span>'alerts<span class="token operator">?</span>parkCode<span class="token operator">=</span>acad<span class="token punctuation">,</span>dena`<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

</main>
    <footer>
      <p class="license">
        <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png"/> </a><br/>This work is licensed under a
        <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0
          International License</a>.</p>
    </footer><!-- Current page: /learning-modules/modules/js/apis/prepare1/ --></body>
</html>